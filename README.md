#  项目指引


## 了解项目请先阅读项目说明书
## 了解项目相关技术信息请阅读INFO.md
## 以太坊智能合约请参考solidity.md
## 本软件配置运行过程太多复杂，不再讨论

### 创建 一个本地私链

1. 新建账户

        geth --datadir $HOME/deepeth/node1 account new
        geth --datadir $HOME/deepeth/node2 account new
        geth --datadir $HOME/deepeth/signer1 account new
        geth --datadir $HOME/deepeth/signer2 account new
        
        echo node_address >> accounts.txt
        echo signer_address >> accounts.txt
        cd $HOME\deepeth\node1
        echo password > password.txt
        echo password > $HOME\deepeth\node2\password.txt
        echo password > $HOME\deepeth\signer1\password.txt
        echo password > $HOME\deepeth\signer2\password.txt

2. 编写 genesis.json

3. 初始化


2.1        
        geth --datadir $HOME/deepeth/node1 init $HOME/deepeth/poa_for_fun.json
        geth --datadir $HOME/deepeth/node2 init $HOME/deepeth/poa_for_fun.json
        geth --datadir $HOME/deepeth/signer1 init $HOME/deepeth/poa_for_fun.json
        geth --datadir $HOME/deepeth/signer2 init $HOME/deepeth/poa_for_fun.json
2.2
        geth --datadir $HOME/deepeth/node1 removedb
        geth --datadir $HOME/deepeth/node2 removedb
        geth --datadir $HOME/deepeth/signer1 removedb
        geth --datadir $HOME/deepeth/signer2 removedb

4. 运行
        
        geth console --nodiscover --datadir $HOME/deepeth/node1 --ipcpath "node1.rpc" --networkid 6666 --port 2000 --rpc --rpcaddr 0.0.0.0 --rpcport 8545 --rpcapi web3,eth,personal --ws --wsaddr 0.0.0.0 --wsport 8546 --wsorigins "*" --syncmode full --unlock 0xb56412245a65b0aec433f655f9bcac137ef4d162 --password $HOME\deepeth\node1\password.txt
        geth console --nodiscover --datadir $HOME/deepeth/node2 --ipcpath "node2.rpc" --networkid 6666 --port 2001 --rpc --rpcaddr 0.0.0.0 --rpcport 8645 --rpcapi web3,eth,personal --ws --wsaddr 0.0.0.0 --wsport 8646 --wsorigins "*" --syncmode full --unlock 0xffbf3691a097e1235927a1f0dfa26b210bd05c2d --password $HOME\deepeth\node2\password.txt
        geth console --nodiscover --datadir $HOME/deepeth/signer1 --ipcpath "signer1.rpc" --networkid 6666 --port 2002 --rpc --rpcaddr 0.0.0.0 --rpcport 8745 --rpcapi web3,eth,personal --ws --wsaddr 0.0.0.0 --wsport 8746 --wsorigins "*" --syncmode full --unlock 35b4987e3a23f11bff6037d50224a8d98394d551 --password $HOME\deepeth\signer1\password.txt
        geth console --nodiscover --datadir $HOME/deepeth/signer2 --ipcpath "signer2.rpc" --networkid 6666 --port 2003 --rpc --rpcaddr 0.0.0.0 --rpcport 8845 --rpcapi web3,eth,personal --ws --wsaddr 0.0.0.0 --wsport 8846 --wsorigins "*"  --syncmode full --unlock cf92c1b674e8ed8aa8cb6b52c88f9fda68ab338f --password $HOME\deepeth\signer1\password.txt

5. 加入节点
## 分别在node2 singer1 singer2 上操作

        admin.addPeer("enode://edaa46ba204049ac611fa2db5264b3ffe715aa56d8ab1e17875aa3f20ff50731f8a5d375c5a18c5052a6b6d9a57858e983d8e74cb2cdbc8f73f26ff71146fa07@127.0.0.1:2000")

## 在 singer1 上操作
    
        admin.addPeer("enode://677ad1a1b0bb40b3bbea78d47ec8c670568c8b0a8dba9f899bbcd275a436229cd6f8ece7f92753248d6f02c0bb7e9e7f42b3a7f6b4abeacc2d62fdc1c6c93ecd@127.0.0.1:2003")

## 在 singer2 上操作
    
        admin.addPeer("enode://5155b772c1625ec2962e90819ea21c6f874876fe3cafb4381063ec710a9fcbdb12b11751ccf384a9bafe195e247d84d6d950a99fd2c00e07dd150d11ad785658@127.0.0.1:2002")
        
## 解锁0号账户
       
        personal.unlockAccount(eth.accounts[0], 'password')

## 解析 abi

        var abi = JSON.parse('[{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_approved\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_operator\",\"type\":\"address\"},{\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_recode\",\"type\":\"string\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"copyRecode\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getCopyrecode\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_tran\",\"type\":\"string\"},{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"assRecode\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"assets\",\"outputs\":[{\"name\":\"contentHash\",\"type\":\"bytes32\"},{\"name\":\"copyrightTran\",\"type\":\"string\"},{\"name\":\"tran\",\"type\":\"string\"},{\"name\":\"name\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"getAssRecode\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_hash\",\"type\":\"bytes32\"},{\"name\":\"_data\",\"type\":\"string\"}],\"name\":\"mint\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"_hash\",\"type\":\"bytes32\"},{\"indexed\":false,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"newAsset\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_approved\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_operator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"}]')

## 获取 智能合约实例
        
        myContract = eth.contract(abi)

## 导入字节码

        bytecode = "0x608060405234801561001057600080fd5b50612615806100206000396000f3fe6080604052600436106100e85760003560e01c8063aa72bdef1161008a578063cf35bdd011610059578063cf35bdd0146107cf578063d3380bab14610962578063e985e9c514610a16578063ee7242e314610a9f576100e8565b8063aa72bdef146103dc578063b88d4fde1461051a578063ba5bae39146105dd578063c9e509a314610691576100e8565b806342842e0e116100c657806342842e0e146102315780636352211e1461029f57806370a082311461031a578063a22cb4651461037f576100e8565b8063081812fc146100ed578063095ea7b31461016857806323b872dd146101c3575b600080fd5b3480156100f957600080fd5b506101266004803603602081101561011057600080fd5b8101908080359060200190929190505050610b2f565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561017457600080fd5b506101c16004803603604081101561018b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610b41565b005b61022f600480360360608110156101d957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c7d565b005b61029d6004803603606081101561024757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610eb6565b005b3480156102ab57600080fd5b506102d8600480360360208110156102c257600080fd5b8101908080359060200190929190505050610ed6565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561032657600080fd5b506103696004803603602081101561033d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f54565b6040518082815260200191505060405180910390f35b34801561038b57600080fd5b506103da600480360360408110156103a257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803515159060200190929190505050610fd8565b005b61049f600480360360408110156103f257600080fd5b810190808035906020019064010000000081111561040f57600080fd5b82018360208201111561042157600080fd5b8035906020019184600183028401116401000000008311171561044357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001909291905050506110f9565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104df5780820151818401526020810190506104c4565b50505050905090810190601f16801561050c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6105db6004803603608081101561053057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561059757600080fd5b8201836020820111156105a957600080fd5b803590602001918460018302840111640100000000831117156105cb57600080fd5b9091929391929390505050611205565b005b3480156105e957600080fd5b506106166004803603602081101561060057600080fd5b810190808035906020019092919050505061125c565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561065657808201518184015260208101905061063b565b50505050905090810190601f1680156106835780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610754600480360360408110156106a757600080fd5b81019080803590602001906401000000008111156106c457600080fd5b8201836020820111156106d657600080fd5b803590602001918460018302840111640100000000831117156106f857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192908035906020019092919050505061131e565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610794578082015181840152602081019050610779565b50505050905090810190601f1680156107c15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156107db57600080fd5b50610808600480360360208110156107f257600080fd5b810190808035906020019092919050505061142a565b60405180858152602001806020018060200180602001848103845287818151815260200191508051906020019080838360005b8381101561085657808201518184015260208101905061083b565b50505050905090810190601f1680156108835780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b838110156108bc5780820151818401526020810190506108a1565b50505050905090810190601f1680156108e95780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015610922578082015181840152602081019050610907565b50505050905090810190601f16801561094f5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b34801561096e57600080fd5b5061099b6004803603602081101561098557600080fd5b8101908080359060200190929190505050611631565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156109db5780820151818401526020810190506109c0565b50505050905090810190601f168015610a085780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b348015610a2257600080fd5b50610a8560048036036040811015610a3957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506116f3565b604051808215151515815260200191505060405180910390f35b348015610aab57600080fd5b50610b2d60048036036040811015610ac257600080fd5b810190808035906020019092919080359060200190640100000000811115610ae957600080fd5b820183602082011115610afb57600080fd5b80359060200191846001830284011164010000000083111715610b1d57600080fd5b9091929391929390505050611787565b005b6000610b3a826118c5565b9050919050565b80600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151515610bb157600080fd5b60006001600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614151515610c2557600080fd5b836002600085815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b8060006001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610d235750610cf4826118c5565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b80610db45750600360008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1515610dbf57600080fd5b82600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151515610e2f57600080fd5b60006001600086815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508573ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff1614151515610ea357600080fd5b610ead8686611973565b50505050505050565b610ed183838360405180602001604052806000815250611a28565b505050565b6000806001600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff1614151515610f4b57600080fd5b80915050919050565b60008173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff1614151515610f9257600080fd5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561101457600080fd5b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411151561106157600080fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055505050565b60608060048381548110151561110b57fe5b90600052602060002090600402016001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111b05780601f10611185576101008083540402835291602001916111b0565b820191906000526020600020905b81548152906001019060200180831161119357829003601f168201915b5050505050905060606111c38286611e42565b9050806004858154811015156111d557fe5b906000526020600020906004020160010190805190602001906111f9929190612499565b50809250505092915050565b61125585858585858080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050611a28565b5050505050565b606060048281548110151561126d57fe5b90600052602060002090600402016001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113125780601f106112e757610100808354040283529160200191611312565b820191906000526020600020905b8154815290600101906020018083116112f557829003601f168201915b50505050509050919050565b60608060048381548110151561133057fe5b90600052602060002090600402016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113d55780601f106113aa576101008083540402835291602001916113d5565b820191906000526020600020905b8154815290600101906020018083116113b857829003601f168201915b5050505050905060606113e88286611e42565b9050806004858154811015156113fa57fe5b9060005260206000209060040201600201908051906020019061141e929190612499565b50809250505092915050565b60048181548110151561143957fe5b9060005260206000209060040201600091509050806000015490806001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114eb5780601f106114c0576101008083540402835291602001916114eb565b820191906000526020600020905b8154815290600101906020018083116114ce57829003601f168201915b505050505090806002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115895780601f1061155e57610100808354040283529160200191611589565b820191906000526020600020905b81548152906001019060200180831161156c57829003601f168201915b505050505090806003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116275780601f106115fc57610100808354040283529160200191611627565b820191906000526020600020905b81548152906001019060200180831161160a57829003601f168201915b5050505050905084565b606060048281548110151561164257fe5b90600052602060002090600402016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116e75780601f106116bc576101008083540402835291602001916116e7565b820191906000526020600020905b8154815290600101906020018083116116ca57829003601f168201915b50505050509050919050565b6000600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60006117d78484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050611f97565b905061182b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546120f890919063ffffffff16565b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550336001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050565b600081600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415151561193757600080fd5b6002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16915050919050565b60006001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690506119b482612116565b6119be81836121b9565b6119c8838361232e565b818373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b8160006001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480611ace5750611a9f826118c5565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b80611b5f5750600360008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff165b1515611b6a57600080fd5b83600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151515611bda57600080fd5b60006001600087815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff1614151515611c4e57600080fd5b611c588787611973565b611c778773ffffffffffffffffffffffffffffffffffffffff16612486565b15611e385760008773ffffffffffffffffffffffffffffffffffffffff1663150b7a02338b8a8a6040518563ffffffff1660e01b8152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015611d57578082015181840152602081019050611d3c565b50505050905090810190601f168015611d845780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b158015611da657600080fd5b505af1158015611dba573d6000803e3d6000fd5b505050506040513d6020811015611dd057600080fd5b8101908080519060200190929190505050905063150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141515611e3657600080fd5b505b5050505050505050565b6060808390506060839050606081518351016040519080825280601f01601f191660200182016040528015611e865781602001600182028038833980820191505090505b5090506060819050600080905060008090505b8551811015611f0d578581815181101515611eb057fe5b90602001015160f81c60f81b8383806001019450815181101515611ed057fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050611e99565b5060008090505b8451811015611f88578481815181101515611f2b57fe5b90602001015160f81c60f81b8383806001019450815181101515611f4b57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050611f14565b50829550505050505092915050565b6000611fa1612519565b6040518060800160405280858152602001604051806020016040528060008152508152602001604051806020016040528060008152508152602001848152509050600060016004839080600181540180825580915050906001820390600052602060002090600402016000909192909190915060008201518160000155602082015181600101908051906020019061203a929190612544565b506040820151816002019080519060200190612057929190612544565b506060820151816003019080519060200190612074929190612544565b5050500390507f33f1fbd35b894d6d223bad33670fff2e57c4cdb440abe337eca70e4f5d231751853383604051808481526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001828152602001935050505060405180910390a1809250505092915050565b600080828401905083811015151561210c57fe5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415156121b6576002600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555b50565b8173ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561222657600080fd5b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411151561227057fe5b60016000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054036000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555050565b600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561239c57600080fd5b816001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061244060016000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546120f890919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050565b600080823b905060008111915050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106124da57805160ff1916838001178555612508565b82800160010185558215612508579182015b828111156125075782518255916020019190600101906124ec565b5b50905061251591906125c4565b5090565b6040518060800160405280600080191681526020016060815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061258557805160ff19168380011785556125b3565b828001600101855582156125b3579182015b828111156125b2578251825591602001919060010190612597565b5b5090506125c091906125c4565b5090565b6125e691905b808211156125e25760008160009055506001016125ca565b5090565b9056fea165627a7a723058208bcf30e9a3917882d007dc65bc5d77aba310d6d3cb0569c059d982f14d778f020029"

## 计算gas

        eth.estimateGas({data: bytecode})

## 设置回调函数方便查看合约部署情况

        contractInstance = myContract.new({data: bytecode, gas: 1000000, from: eth.accounts[0]}, function(e, contract){
        if(!e){
        if(!contract.address){
        console.log("Contract transaction send: Transaction Hash: "+contract.transactionHash+" waiting to be mined...");
        }else{
        console.log("Contract mined! Address: "+contract.address);
        console.log(contract);
        }
        }else{
        console.log(e)
        }
        })